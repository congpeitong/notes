# 1. 计算机网络概述

## 1.1 计算机网络的功能

计算机网络的功能主要有数据通信、资源共享、分布式处理等。

1. 数据通信：计算机网络最基本的功能。数据通信用来快速传递计算机与终端、计算机与计算机之间的各种信息。可以将处于不同地理位置的计算机用计算机网络联系起来，进行统一的调配、控制和管理。
2. 资源共享包括软件资源、硬件资源和数据资源。例如：数据库可供全网使用。
3. 分布式处理：分布式处理则是利用网络技术多个独立的计算机系统连接组合成一个高性能的计算机系统，计算机群集，分布式系统，网络等都是这一功能应用的典型实例。

## 1.2 电路交换,报文交换和分组交换的优缺点

1. 电路交换

   1. 电路交换的一般过程：在使用电路交换通话之前，必须先拨号请求建立连接。当被叫用户听到交换机送来的振铃并摘机后，从主叫端到被叫端就建立了一条连接，也就是一条专用的物理通路，这条链接保证了双方通话时所需的通信资源，而这些资源在双方通信时不会被其他用户占用，此后主机和被叫双方就能互相通话。通话完毕后，交换机释放刚才使用过的这条专用的物理通路（即把刚才占用的所有通信资源归还给电信网）。
   2. 电路交换必须是面向对象的
   3. 交换就是按照某种方式动态的分配传输线路的资源。（含义：连接）
   4. 建立连接（占用通信资源）——通话（一直占用通信资源）——释放连接（归还通信资源），三个步骤的交换方式称为电路交换
   5. 在通话的全部时间内，通话的两个用户始终占用端到端的通信资源

   电路交换的优缺点

   优点：

   由于通信线路为通信双方用户专用，数据直达，所以传输数据的时延非常小。
   通信双方之间的物理通路一旦建立，双方可以随时通信，实时性强。
   双方通信时按发送顺序传送数据，不存在失序问题。
   电路交换既适用于传输模拟信号，也适用于传输数字信号。
   电路交换的交换设备（交换机等）及控制均较简单。

   缺点：

   电路交换时，数据直达，不同类型、不同规格、不同速率的终端很难相互进行通信，也难以在通信过程中进行差错控制。
   电路交换的平均连接建立时间对计算机通信来说嫌长。
   电路交换连接建立后，物理通路被通信双方独占，即使通信线路空闲，也不能供其他用户使用，因而信道利用低。
   交换数据时，其线路的传输效率往往很低。这是因为计算机数据是突发式地出现在传输线路上的，传输数据的时间往往不到10%甚至1%
2. 报文交换

   20世纪40年代，电报通信也采取了基于存储转发原理的报文交换

   报文交换介于电路交换和分组交换之间

   相当于寄一封信出去，填好地址后，把内容全部放到信封里，一站一站的发送到目的地址。
   报文交换的优缺点

   优点：

   报文交换不需要为通信双方预先建立一条专用的通信线路，不存在连接建立时延，用户可随时发送报文。
   由于采用存储转发的传输方式，使之具有下列优点：
   a.在报文交换中便于设置代码检验和数据重发设施，加之交换结点还具有路径选择，就可以做到某条传输路径发生故障时，重新选择另一条路径传输数据，提高了传输的可靠性；
   b.在存储转发中容易实现代码转换和速率匹配，甚至收发双方可以不同时处于可用状态。这样就便于类型、规格和速度不同的计算机之间进行通信；
   c.提供多目标服务，即一个报文可以同时发送到多个目的地址，这在电路交换中是很难实现的；
   d.允许建立数据传输的优先级，使优先级高的报文优先转换。
   通信双方不是固定占有一条通信线路，而是在不同的时间一段一段地部分占有这条物理通路，因而大大提高了通信线路的利用率。

   缺点：

   由于数据进入交换结点后要经历存储、转发这一过程，从而引起转发时延（包括接收报文、检验正确性、排队、发送时间等），而且网络的通信量愈大，造成的时延就愈大，因此报文交换的实时性差，不适合传送实时或交互式业务的数据。
   报文交换只适用于数字信号。
   由于报文长度没有限制，而每个中间结点都要完整地接收传来的整个报文，当输出线路不空闲时，还可能要存储几个完整报文等待转发，要求网络中每个结点有较大的缓冲区。为了降低成本，减少结点的缓冲存储器的容量，有时要把等待转发的报文存在磁盘上，进一步增加了传送时延。
3. 分组交换


组交换采用的是存储转发技术

在发送报文之前，先把较长的报文划分成一个个更小的等长的数据段；然后在数据段的前面加上一些由必要的控制信息组成的首部后，就构成了一个分组

分组又称为“包”，而分组的首部又称为“包头”

首部包含了：目的地址，源地址等重要控制信息

主机是为用户进行信息处理的，并且可以和其他主机通过网络交换信息。
路由器则是用来转发分组的，即进行分组交换的。路由器收到一个分组，先暂时存储一下，检查其首部查找转发表，按照首部中的目的地址，找到合适的接口转发出去，把分组交给下一个路由器。这样一步步地以存储转发的方式把分组交付最终的目的主机。
分组传输数据图示：
从多条路传输数据到h4，路由器设备是共享的

分组交换的优缺点

优点：

    高效。在分组传输的过程中动态分配传输宽带，对通信链路是逐段占用。
    灵活。为每一个分组独立的选择最合适的转发路由。
    迅速。以分组作为传送单位，可以不先建立连接，就能像其他主机发送分组。
    可靠。保证可靠性的网络协议；分布式多路由的分组交换网，使网络有很好的生存性

缺点：

    尽管分组交换比报文交换的传输时延少，但仍存在存储转发时延，而且其结点交换机必须具有更强的处理能力。
    分组交换与报文交换一样，每个分组都要加上源、目的地址和分组编号等信息，使传送的信息量大约增大5%～10%，一定程度上降低了通信效率，增加了处理的时间，使控制复杂，时延增加。
    当分组交换采用数据报服务时，可能出现失序、丢失或重复分组，分组到达目的结点时，要对分组按编号进行排序等工作，增加了麻烦。若采用虚电路服务，虽无失序问题，但有呼叫建立、数据传输和虚电路释放三个过程。

三种电路交换比较：

电路交换——整个报文的比特流连续地从源点直达终点，好像在一个管道中传输

报文交换——整个报文先传送到相邻结点，全部存下来后查找转发表，转发到下一个结点
分组交换——单个分组（整个报文的一部分）传送到相邻结点，存储下来后查找转发表，转发到下一个结点

    若要传送的数据量很大，且其传送时间远大于连接建立时间，则采用电路交换较为合适。

    当端到端的通路有很多段的链路组成时，采用分组交换传送数据较为合适。

    从提高整个网络的信道利用率上看，报文交换和分组交换优于电路交换，
    其中分组交换比报文交换的时延小，尤其适合于计算机之间的突发式的数据通信
